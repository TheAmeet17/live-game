<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Watch live sports streams online - Cricket T20, ODI, Test, IPL, Football, Basketball and more. Free HD quality streaming with multiple server options.">
    <meta name="keywords" content="live sports streaming, cricket live, football live, basketball live, T20 live, IPL live, ODI live, Test cricket live, free sports streaming">
    <meta name="author" content="SportStream Live">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="SportStream Live - Watch Live Sports Online">
    <meta property="og:description" content="Free HD quality live sports streaming with multiple server options. Watch Cricket, Football, Basketball and more.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourwebsite.com">
    <meta property="og:image" content="https://yourwebsite.com/og-image.jpg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SportStream Live - Watch Live Sports Online">
    <meta name="twitter:description" content="Free HD quality live sports streaming with multiple server options.">
    <meta name="twitter:image" content="https://yourwebsite.com/twitter-image.jpg">
    
    <title>SportStream Live - Watch Live Sports Online | Cricket, Football & More</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Anti-Adblock JS Sync -->
    <script type='text/javascript' src='//tolerancewarily.com/a6/32/aa/a632aa5c2b751bcf6b99383b43c8fed4.js'></script>
    
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #0dcaf0;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-bg: #1a1a1a;
            --border-color: #303030;
            --text-secondary: #aaaaaa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        .navbar {
            background: rgba(13, 13, 13, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 0.8rem 0;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 0.5rem 0;
        }

        .navbar-toggler {
            border: none;
            padding: 0.5rem;
            color: white;
        }

        .navbar-toggler:focus {
            box-shadow: none;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8) !important;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--primary-color) !important;
        }

        /* Hero Section */
        .hero-section {
            background: var(--gradient-bg);
            padding: 60px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            padding: 0 15px;
        }

        .hero-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: clamp(1rem, 2vw, 1.2rem);
            opacity: 0.9;
            margin-bottom: 2rem;
            padding: 0 10px;
        }

        /* Search Bar */
        .search-container {
            max-width: 500px;
            margin: 0 auto 2rem;
            padding: 0 15px;
        }

        .search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 0.8rem 1.5rem;
            color: white;
            font-size: 1rem;
            width: 100%;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
            outline: none;
        }

        /* Ad Button */
        .ad-button {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .ad-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        /* Sports Categories */
        .category-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .category-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary-color);
        }

        .category-icon {
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1rem;
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .category-title {
            font-size: clamp(1.2rem, 2vw, 1.5rem);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .match-count {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Matches Section */
        .matches-section {
            background: #111111;
            padding: 3rem 0;
        }

        .match-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .match-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-color);
        }

        .match-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-bg);
        }

        /* Match Time Info */
        .match-time-info {
            background: linear-gradient(135deg, rgba(13, 110, 253, 0.1), rgba(102, 126, 234, 0.1));
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            position: relative;
        }

        .time-badge {
            background: var(--primary-color);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 8px;
        }

        .match-time {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .match-duration {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .match-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .match-title {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            font-weight: 600;
            color: #ffffff;
            line-height: 1.3;
            margin-bottom: 0.5rem;
        }

        .tournament-badge {
            background: var(--gradient-bg);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            white-space: nowrap;
        }

        /* Status Badges */
        .live-badge {
            background: #dc3545;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            animation: pulse 2s infinite;
            display: inline-block;
        }

        .scheduled-badge {
            background: var(--warning-color);
            color: #000;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            display: inline-block;
        }

        .ended-badge {
            background: var(--secondary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            display: inline-block;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Server Buttons */
        .server-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .server-btn {
            background: rgba(13, 110, 253, 0.2);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 0.6rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
            cursor: pointer;
        }

        .server-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .server-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .server-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .server-btn.disabled:hover {
            background: rgba(13, 110, 253, 0.2);
            color: var(--primary-color);
            transform: none;
        }

        /* Video Player */
        .video-section {
            background: #000000;
            padding: 2rem 0;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            width: 100%;
            padding: 0 20px;
        }

        .video-placeholder i {
            font-size: clamp(2rem, 5vw, 4rem);
            margin-bottom: 1rem;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .loading-spinner .spinner-border {
            width: 3rem;
            height: 3rem;
            border-color: var(--primary-color);
            border-right-color: transparent;
        }

        /* Stats Section */
        .stats-section {
            background: var(--card-bg);
            padding: 2rem 0;
            border-top: 1px solid var(--border-color);
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Footer */
        .footer {
            background: #0a0a0a;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem 0 1rem;
            margin-top: 3rem;
        }

        .footer-content {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            padding: 0 15px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        /* Share Section */
        .share-section {
            text-align: center;
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            margin: 1.5rem;
            border-radius: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .share-section h3 {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .share-buttons .btn {
            border-radius: 25px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .share-buttons .btn:hover {
            transform: translateY(-2px);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            margin: 2rem 0;
        }

        .empty-state i {
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.3);
            margin-bottom: 1.5rem;
        }

        .empty-state h3 {
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .empty-state p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        /* Firebase Status */
        .firebase-status {
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid #00d4aa;
            border-radius: 12px;
            padding: 12px;
            margin: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .firebase-status.disconnected {
            background: rgba(220, 53, 69, 0.1);
            border-color: #dc3545;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section {
                padding: 40px 0;
            }
            
            .category-card {
                margin-bottom: 1rem;
            }
            
            .match-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .tournament-badge {
                margin-top: 0.5rem;
            }
            
            .server-buttons {
                justify-content: flex-start;
            }

            .match-card {
                padding: 1rem;
            }

            .match-time-info {
                padding: 12px;
            }

            .firebase-status {
                margin: 8px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 576px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .category-icon {
                font-size: 2rem;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .share-buttons .btn {
                width: 200px;
            }
        }

        /* Utility Classes */
        .d-none { display: none !important; }
        .show { display: block !important; }
        .hide { display: none !important; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#home">
                <i class="fas fa-play-circle me-2"></i>SportStream Live
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon">
                    <i class="fas fa-bars"></i>
                </span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#matches">Live Matches</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#schedule">Schedule</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Firebase Status -->
    <div class="firebase-status" id="firebaseStatus">
        <i class="fas fa-database"></i>
        <span id="statusText">Connecting to live data...</span>
    </div>

    <!-- Hero Section -->
    <section class="hero-section" id="home">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Watch Live Sports Online</h1>
                <p class="hero-subtitle">Free HD quality streaming with multiple server options. Cricket, Football, Basketball and more!</p>
                
                <!-- Search Bar -->
                <div class="search-container">
                    <input type="text" 
                           class="search-input" 
                           id="searchInput"
                           placeholder="Search for matches, tournaments..." 
                           onkeyup="searchMatches()">
                </div>

                <!-- Ad Button -->
                <div class="mt-4">
                    <button class="ad-button" onclick="loadAd()">
                        <i class="fas fa-star me-2"></i>Click Me to Show Ad
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Sports Categories -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Live Sports Categories</h2>
            <div class="row g-4">
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('cricket')">
                        <div class="text-center">
                            <i class="fas fa-baseball-ball category-icon"></i>
                            <h3 class="category-title">Cricket</h3>
                            <p class="match-count" id="cricketCount">0 live matches</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('football')">
                        <div class="text-center">
                            <i class="fas fa-futbol category-icon"></i>
                            <h3 class="category-title">Football</h3>
                            <p class="match-count" id="footballCount">0 live matches</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('basketball')">
                        <div class="text-center">
                            <i class="fas fa-basketball-ball category-icon"></i>
                            <h3 class="category-title">Basketball</h3>
                            <p class="match-count" id="basketballCount">0 live matches</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('tennis')">
                        <div class="text-center">
                            <i class="fas fa-table-tennis category-icon"></i>
                            <h3 class="category-title">Tennis</h3>
                            <p class="match-count" id="tennisCount">0 live matches</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('hockey')">
                        <div class="text-center">
                            <i class="fas fa-hockey-puck category-icon"></i>
                            <h3 class="category-title">Hockey</h3>
                            <p class="match-count" id="hockeyCount">0 live matches</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="category-card" onclick="scrollToCategory('rugby')">
                        <div class="text-center">
                            <i class="fas fa-football-ball category-icon"></i>
                            <h3 class="category-title">Rugby</h3>
                            <p class="match-count" id="rugbyCount">0 live matches</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Matches -->
    <section class="matches-section" id="matches">
        <div class="container">
            <h2 class="text-center mb-5">
                Live Matches & Schedule
                <span class="badge bg-primary ms-2" id="totalMatchCount">0</span>
            </h2>
            
            <div id="matchesContainer">
                <!-- Matches will be dynamically generated here -->
                <div class="empty-state">
                    <i class="fas fa-video"></i>
                    <h3>No Live Matches</h3>
                    <p>Matches will appear here when posted by admin. Check back soon!</p>
                    <button class="btn btn-primary" onclick="refreshMatches()">
                        <i class="fas fa-refresh me-1"></i>Refresh
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Player Section (Initially Hidden) -->
    <section class="video-section" id="videoSection" style="display: none;">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2 class="mb-3" id="watchTitle">
                        Match Title
                        <span class="live-badge ms-2">LIVE</span>
                    </h2>
                    <p class="text-muted mb-4" id="watchSubtitle">Tournament • Category</p>
                    
                    <!-- Match Time Info for Video Section -->
                    <div class="match-time-info mb-4" id="watchTimeInfo">
                        <!-- Time info will be populated -->
                    </div>
                    
                    <!-- Server Selection -->
                    <div class="server-buttons mb-4" id="serverSelection">
                        <!-- Server buttons will be dynamically generated -->
                    </div>
                    
                    <!-- Video Player -->
                    <div class="video-container" id="videoContainer">
                        <div class="video-placeholder">
                            <i class="fas fa-play-circle"></i>
                            <h4>Select a Server to Start Watching</h4>
                            <p>Choose from the available streaming servers above.</p>
                        </div>
                    </div>
                    
                    <!-- Loading Spinner -->
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Loading stream...</p>
                    </div>
                    
                    <!-- Back Button -->
                    <div class="mt-4">
                        <button class="btn btn-secondary" onclick="goBackToMatches()">
                            <i class="fas fa-arrow-left me-1"></i>Back to Matches
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="stats-section" id="schedule">
        <div class="container">
            <h3 class="text-center mb-4">Platform Statistics</h3>
            <div class="row g-4">
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card">
                        <div class="stat-number" id="totalStreamsCount">0</div>
                        <div class="stat-label">Total Streams</div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card">
                        <div class="stat-number" id="liveStreamsCount">0</div>
                        <div class="stat-label">Live Now</div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card">
                        <div class="stat-number" id="todayMatchesCount">0</div>
                        <div class="stat-label">Today's Matches</div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card">
                        <div class="stat-number" id="totalViewersCount">1.2M</div>
                        <div class="stat-label">Total Viewers</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Share Section -->
    <section class="share-section">
        <div class="container">
            <h3><i class="fas fa-share-alt me-2"></i>Share SportStream Live</h3>
            <p class="mb-3">Tell your friends about the best free sports streaming platform!</p>
            <div class="share-buttons">
                <button onclick="shareWebsite('twitter')" class="btn btn-primary me-2">
                    <i class="fab fa-twitter me-1"></i>Twitter
                </button>
                <button onclick="shareWebsite('facebook')" class="btn btn-primary me-2">
                    <i class="fab fa-facebook me-1"></i>Facebook
                </button>
                <button onclick="shareWebsite('whatsapp')" class="btn btn-success">
                    <i class="fab fa-whatsapp me-1"></i>WhatsApp
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#about">About Us</a>
                    <a href="#contact">Contact</a>
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                </div>
                <p>&copy; 2025 SportStream Live. All rights reserved.</p>
                <p class="mt-2">
                    <small>Enjoy free HD sports streaming with multiple server options. Watch your favorite cricket, football, basketball and more!</small>
                </p>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA3gwO6KEBUg0jEaYpd-IYlbEbjtlXNBtg",
            authDomain: "live-stream-3df4b.firebaseapp.com",
            projectId: "live-stream-3df4b",
            storageBucket: "live-stream-3df4b.firebasestorage.app",
            messagingSenderId: "41369839856",
            appId: "1:41369839856:web:e59112ad3c7352e920ba35",
            measurementId: "G-8K3RF8KQD1"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Global variables
        let matches = [];
        let currentMatch = null;
        let currentServer = 0;

        // Update Firebase status
        function updateFirebaseStatus(connected) {
            const statusElement = document.getElementById('firebaseStatus');
            const statusText = document.getElementById('statusText');
            
            if (connected) {
                statusElement.classList.remove('disconnected');
                statusText.textContent = 'Connected - Receiving live updates from admin';
            } else {
                statusElement.classList.add('disconnected');
                statusText.textContent = 'Disconnected - No live updates available';
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            updateFirebaseStatus(true);
            
            // Listen for real-time updates from Firebase
            const unsubscribe = onSnapshot(collection(db, "streams"), (snapshot) => {
                matches = [];
                snapshot.forEach((doc) => {
                    const data = doc.data();
                    matches.push({
                        id: doc.id,
                        title: data.title,
                        category: data.category,
                        tournament: data.tournament,
                        description: data.description || '',
                        startDate: data.startDate,
                        startTime: data.startTime,
                        duration: data.duration,
                        status: data.status,
                        servers: data.servers || [],
                        createdAt: data.createdAt,
                        viewers: data.viewers || 0
                    });
                });
                updateMatchDisplays();
                updateMatchCounts();
                updateStats();
                updateCurrentTime();
            }, (error) => {
                console.error("Error listening to Firestore:", error);
                updateFirebaseStatus(false);
            });
        });

        function initializeApp() {
            updateCurrentTime();
            // Update time every minute
            setInterval(updateCurrentTime, 60000);
        }

        // Time management functions
        function updateCurrentTime() {
            const now = new Date();
            
            // Update match statuses based on current time
            matches.forEach(match => {
                const matchDateTime = new Date(`${match.startDate} ${match.startTime}`);
                const matchEndTime = new Date(matchDateTime.getTime() + (match.duration * 60000));
                
                if (now >= matchDateTime && now <= matchEndTime) {
                    match.status = 'live';
                } else if (now > matchEndTime) {
                    match.status = 'ended';
                } else {
                    match.status = 'scheduled';
                }
            });
            
            updateMatchDisplays();
            updateMatchCounts();
            updateStats();
        }

        function getTimeUntilMatch(match) {
            const now = new Date();
            const matchDateTime = new Date(`${match.startDate} ${match.startTime}`);
            const timeDiff = matchDateTime - now;
            
            if (timeDiff <= 0) return null;
            
            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            
            if (days > 0) return `${days}d ${hours}h`;
            if (hours > 0) return `${hours}h ${minutes}m`;
            return `${minutes}m`;
        }

        function getMatchTimeInfo(match) {
            const now = new Date();
            const matchDateTime = new Date(`${match.startDate} ${match.startTime}`);
            const matchEndTime = new Date(matchDateTime.getTime() + (match.duration * 60000));
            
            if (match.status === 'live') {
                const elapsed = Math.floor((now - matchDateTime) / 60000);
                return `Live • ${elapsed} min`;
            } else if (match.status === 'scheduled') {
                const timeUntil = getTimeUntilMatch(match);
                return timeUntil ? `Starts in ${timeUntil}` : 'Starting soon';
            } else {
                return 'Match ended';
            }
        }

        // Display functions
        function updateMatchDisplays() {
            const matchesContainer = document.getElementById('matchesContainer');
            
            if (matches.length === 0) {
                matchesContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-video"></i>
                        <h3>No Live Matches</h3>
                        <p>Matches will appear here when posted by admin. Check back soon!</p>
                        <button class="btn btn-primary" onclick="refreshMatches()">
                            <i class="fas fa-refresh me-1"></i>Refresh
                        </button>
                    </div>
                `;
                return;
            }
            
            // Group matches by category
            const categories = {
                cricket: { name: 'Cricket', icon: 'fas fa-baseball-ball', matches: [] },
                football: { name: 'Football', icon: 'fas fa-futbol', matches: [] },
                basketball: { name: 'Basketball', icon: 'fas fa-basketball-ball', matches: [] },
                tennis: { name: 'Tennis', icon: 'fas fa-table-tennis', matches: [] },
                hockey: { name: 'Hockey', icon: 'fas fa-hockey-puck', matches: [] },
                rugby: { name: 'Rugby', icon: 'fas fa-football-ball', matches: [] }
            };
            
            matches.forEach(match => {
                if (categories[match.category]) {
                    categories[match.category].matches.push(match);
                }
            });
            
            // Render categories with matches
            let categoryHtml = '';
            Object.keys(categories).forEach(categoryKey => {
                const category = categories[categoryKey];
                if (category.matches.length > 0) {
                    categoryHtml += `
                        <div id="${categoryKey}" class="mb-5">
                            <h3 class="mb-4">
                                <i class="${category.icon} me-2"></i>${category.name}
                                <span class="badge bg-secondary ms-2">${category.matches.length}</span>
                            </h3>
                            
                            <div class="row g-4">
                                ${category.matches.map(match => `
                                    <div class="col-lg-6">
                                        <div class="match-card">
                                            <!-- Match Time Info -->
                                            <div class="match-time-info">
                                                <div class="time-badge">
                                                    <i class="fas fa-clock me-1"></i>${match.startDate} at ${match.startTime}
                                                </div>
                                                <div class="match-time">
                                                    <i class="fas fa-calendar me-1"></i>${getMatchTimeInfo(match)}
                                                </div>
                                                <div class="match-duration">
                                                    <i class="fas fa-stopwatch me-1"></i>Duration: ${match.duration} minutes
                                                </div>
                                            </div>
                                            
                                            <div class="match-header">
                                                <div>
                                                    <h4 class="match-title">${match.title}</h4>
                                                    ${getStatusBadge(match.status)}
                                                </div>
                                                <span class="tournament-badge">${match.tournament}</span>
                                            </div>
                                            
                                            ${match.description ? `<p class="text-muted mb-3">${match.description}</p>` : ''}
                                            
                                            <div class="server-buttons">
                                                ${match.servers.map((server, index) => `
                                                    <button onclick="loadAdAndWatch('${match.id}', ${index})" 
                                                            class="server-btn ${match.status !== 'live' ? 'disabled' : ''}"
                                                            ${match.status !== 'live' ? 'disabled' : ''}>
                                                        <i class="fas fa-play me-1"></i>${server.name}
                                                    </button>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }
            });
            
            matchesContainer.innerHTML = categoryHtml;
        }

        function getStatusBadge(status) {
            switch(status) {
                case 'live':
                    return '<span class="live-badge">LIVE</span>';
                case 'scheduled':
                    return '<span class="scheduled-badge">SCHEDULED</span>';
                case 'ended':
                    return '<span class="ended-badge">ENDED</span>';
                default:
                    return '';
            }
        }

        function updateMatchCounts() {
            const totalMatches = matches.length;
            document.getElementById('totalMatchCount').textContent = totalMatches;
            
            // Update category counts
            const categories = ['cricket', 'football', 'basketball', 'tennis', 'hockey', 'rugby'];
            categories.forEach(category => {
                const count = matches.filter(match => match.category === category).length;
                const countElement = document.getElementById(category + 'Count');
                if (countElement) {
                    countElement.textContent = `${count} matches`;
                }
            });
        }

        function updateStats() {
            const totalStreams = matches.length;
            const liveStreams = matches.filter(m => m.status === 'live').length;
            const today = new Date().toISOString().split('T')[0];
            const todayMatches = matches.filter(m => m.startDate === today).length;

            document.getElementById('totalStreamsCount').textContent = totalStreams;
            document.getElementById('liveStreamsCount').textContent = liveStreams;
            document.getElementById('todayMatchesCount').textContent = todayMatches;
        }

        // Ad loading function
        window.loadAd = function() {
            try {
                var script = document.createElement("script");
                script.src = "//tolerancewarily.com/a6/32/aa/a632aa5c2b751bcf6b99383b43c8fed4.js";
                script.type = "text/javascript";
                script.async = true;
                
                script.onerror = function() {
                    console.warn('Ad script failed to load');
                    showNotification('Ad loaded successfully!', 'success');
                };
                
                script.onload = function() {
                    console.log('Ad script loaded successfully');
                    showNotification('Ad loaded successfully!', 'success');
                };
                
                document.body.appendChild(script);
            } catch (error) {
                console.error('Error loading ad script:', error);
                showNotification('Error loading ad', 'error');
            }
        };

        // Enhanced ad loading with watch functionality
        window.loadAdAndWatch = function(matchId, serverIndex) {
            // Load the ad
            loadAd();
            
            // Show loading state
            showLoading();
            
            // Add a small delay before switching to watch
            setTimeout(function() {
                watchMatch(matchId, serverIndex);
            }, 800);
        };

        // Enhanced ad loading with server switching
        window.loadAdAndSwitchServer = function(serverIndex) {
            // Load the ad
            loadAd();
            
            // Show loading state
            showLoading();
            
            // Add delay before switching server
            setTimeout(function() {
                switchServer(serverIndex);
            }, 1000);
        };

        // Video player functions
        window.watchMatch = function(matchId, serverIndex = 0) {
            const match = matches.find(m => m.id === matchId);
            if (!match) {
                showNotification('Match not found!', 'error');
                return;
            }
            
            if (match.status !== 'live') {
                showNotification('This match is not currently live!', 'warning');
                return;
            }
            
            currentMatch = match;
            currentServer = serverIndex;
            
            // Update watch section
            document.getElementById('watchTitle').innerHTML = `
                ${match.title}
                ${getStatusBadge(match.status)}
            `;
            document.getElementById('watchSubtitle').textContent = `${match.tournament} • ${match.category.charAt(0).toUpperCase() + match.category.slice(1)}`;
            
            // Update time info for watch section
            document.getElementById('watchTimeInfo').innerHTML = `
                <div class="time-badge">
                    <i class="fas fa-clock me-1"></i>${match.startDate} at ${match.startTime}
                </div>
                <div class="match-time">
                    <i class="fas fa-calendar me-1"></i>${getMatchTimeInfo(match)}
                </div>
                <div class="match-duration">
                    <i class="fas fa-stopwatch me-1"></i>Duration: ${match.duration} minutes
                </div>
            `;
            
            // Update server selection
            const serverSelection = document.getElementById('serverSelection');
            if (match.servers.length > 1) {
                serverSelection.innerHTML = match.servers.map((server, index) => `
                    <button onclick="loadAdAndSwitchServer(${index})" 
                            class="server-btn ${index === serverIndex ? 'active' : ''}">
                        <i class="fas fa-play me-1"></i>${server.name}
                    </button>
                `).join('');
                serverSelection.style.display = 'flex';
            } else {
                serverSelection.style.display = 'none';
            }
            
            // Load video
            loadVideo(match.servers[serverIndex].url);
            
            // Show video section, hide matches section
            document.getElementById('videoSection').style.display = 'block';
            document.getElementById('matches').style.display = 'none';
            
            // Scroll to video section
            document.getElementById('videoSection').scrollIntoView({ behavior: 'smooth' });
            
            hideLoading();
        };

        window.switchServer = function(serverIndex) {
            if (currentMatch && currentMatch.servers[serverIndex]) {
                currentServer = serverIndex;
                
                // Update active server button
                document.querySelectorAll('#serverSelection .server-btn').forEach((btn, index) => {
                    if (index === serverIndex) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                // Load new video
                loadVideo(currentMatch.servers[serverIndex].url);
            }
            hideLoading();
        };

        function loadVideo(url) {
            const videoContainer = document.getElementById('videoContainer');
            videoContainer.innerHTML = `
                <iframe src="${url}" 
                        allowfullscreen 
                        scrolling="no" 
                        frameborder="0"></iframe>
            `;
        }

        window.goBackToMatches = function() {
            document.getElementById('videoSection').style.display = 'none';
            document.getElementById('matches').style.display = 'block';
            document.getElementById('matches').scrollIntoView({ behavior: 'smooth' });
        };

        // Utility functions
        function showLoading() {
            const spinner = document.getElementById('loadingSpinner');
            const videoContainer = document.getElementById('videoContainer');
            
            if (spinner) {
                spinner.style.display = 'block';
            }
            if (videoContainer) {
                videoContainer.style.opacity = '0.5';
            }
        }

        function hideLoading() {
            const spinner = document.getElementById('loadingSpinner');
            const videoContainer = document.getElementById('videoContainer');
            
            if (spinner) {
                spinner.style.display = 'none';
            }
            if (videoContainer) {
                videoContainer.style.opacity = '1';
            }
        }

        window.scrollToCategory = function(categoryId) {
            const element = document.getElementById(categoryId);
            if (element) {
                element.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start'
                });
                
                // Add highlight effect
                element.style.transition = 'all 0.3s ease';
                element.style.backgroundColor = 'rgba(13, 110, 253, 0.1)';
                
                setTimeout(() => {
                    element.style.backgroundColor = '';
                }, 2000);
            }
        };

        window.searchMatches = function() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            // Basic search implementation
            updateMatchDisplays();
        };

        window.refreshMatches = function() {
            showNotification('Refreshing matches...', 'info');
            // Firebase listener will automatically update matches
        };

        window.shareWebsite = function(platform) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent("Check out SportStream Live - Free HD Sports Streaming! 🏆⚽🏀");
            
            let shareUrl;
            switch(platform) {
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${text}%20${url}`;
                    break;
                default:
                    console.warn('Unknown sharing platform:', platform);
                    return;
            }
            
            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400,scrollbars=yes,resizable=yes');
            }
        };

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} notification-toast`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 9999;
                min-width: 300px;
                max-width: 500px;
                animation: slideInRight 0.3s ease-out;
            `;
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.style.animation = 'slideOutRight 0.3s ease-in';
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }
            }, 5000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .notification-toast {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                border-radius: 12px;
                backdrop-filter: blur(10px);
            }
        `;
        document.head.appendChild(style);
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>